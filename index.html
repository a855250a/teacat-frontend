<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>茶貓商店</title>
</head>

<body>

<nav class="nav">
  <div class="nav-left">
    <a href="index.html" class="logo">茶貓商店</a>
  </div>

  <div class="nav-center">
    <a href="category.html?category=飼料">飼料</a>
    <a href="category.html?category=玩具">玩具</a>
    <a href="category.html?category=貓砂">貓砂</a>
    <a href="category.html?category=貓抓板">貓抓板</a>
    <a href="category.html?category=清潔用品">清潔用品</a>
    <a href="category.html?category=保健食品">保健食品</a>
  </div>

  <div class="nav-right">

    <!-- 未登入 -->
    <a href="login.html" id="loginLink">登入</a>
    <a href="register.html" id="registerLink">註冊</a>

    <!-- 會員 -->
    <div class="member-menu hidden" id="memberMenu">
      <div class="member-trigger" id="memberTrigger">
        <img src="img/user-avatar.png" class="avatar">
        <span>會員</span> ▾
      </div>

      <div class="member-dropdown">
        <a href="member.html">會員中心</a>
        <a href="orders.html">我的訂單</a>
        <a href="#" id="logoutBtn">登出</a>
      </div>
    </div>

    <!-- 管理員 -->
    <div class="admin-menu hidden" id="adminMenu">
      <a href="admin.html">後台管理</a>
      <a href="#" id="adminLogoutBtn">登出</a>
    </div>

  </div>
</nav>

<!-- ===== 你原本的內容（完全沒刪） ===== -->
<section class="info-section">
  <div class="info-left slideshow">
    <img src="img/banner1.jpg" class="slide active">
    <img src="img/banner2.jpg" class="slide">
    <img src="img/banner3.jpg" class="slide">
  </div>

  <div class="info-right">
    <div class="products-header">
      <h2>為貓咪精選的日常好物</h2>
      <p class="products-sub">吃的、用的、玩的，都是我們親自挑選</p>
    </div>

    <p class="brand-line">為貓咪挑選生活裡的每一份溫柔</p>
    <p class="brand-line sub">從日常用品開始，陪牠慢慢長大</p>
    <p class="brand-line small">茶貓商店，只為你在乎的牠</p>

    <div class="value-list">
      <div class="value-item">✔ 精選貓咪實用好物</div>
      <div class="value-item">✔ 重視安全與成分</div>
      <div class="value-item">✔ 新手與老貓都適合</div>
    </div>

    <div class="cta-group">
      <a href="category.html?category=飼料" class="cta-btn">逛逛飼料</a>
      <a href="category.html?category=玩具" class="cta-btn ghost">看看玩具</a>
    </div>
  </div>
</section>   
    

    <script>   
        const hamburger = document.querySelector('.hamburger');
        const mobileMenu = document.querySelector('.mobile-menu');
        const overlay = document.querySelector('.overlay');

        hamburger.onclick = () => {
            mobileMenu.classList.toggle('active');
            overlay.classList.toggle('active');
        };

        overlay.onclick = () => {
            mobileMenu.classList.remove('active');
            overlay.classList.remove('active');
        };
    </script>

    <section class="products">   
        <h2>Featured Products(特色產品)</h2>

        <div class="product-grid">

            <div class="product-card"
                data-name="新品專區"
                data-price="199"
                data-img="img/product1.jpg">

                <img src="img/product1.jpg">
                <h5>新品專區</h5>
                <p class="price">$199</p>
                <button class="add-cart">加入購物車</button>
            </div>
            
            <div class="product-card"
                data-name="聯名商品"
                data-price="199"
                data-img="img/product2.jpg">

                <img src="img/product2.jpg">
                <h5>聯名商品</h5>
                <p class="price">$399</p>
                <button class="add-cart">加入購物車</button>
            </div>

            <div class="product-card"
                data-name="五折專區"
                data-price="199"
                data-img="img/product3.jpg">

                <img src="img/product3.jpg">
                <h5>五折優惠</h5>
                <p class="price">$599</p>
                <button class="add-cart">加入購物車</button>
            </div>
            
            <div class="product-card"
                data-name="期限限定"
                data-price="199"
                data-img="img/product4.jpg">

                <img src="img/product4.jpg">
                <h5>期限限定</h5>
                <p class="price">$999</p>
                <button class="add-cart">加入購物車</button>
            </div>

    </section>

    <section class="member-banner">
    <div class="banner-left">
        <img src="img/QR code.jpg" alt="加入會員 QR">
    </div>

    <div class="banner-right">
        <h2 class="banner-title">加入茶貓會員，享受專屬優惠！</h2>
        <p class="banner-sub">立即加入，獲得最新優惠通知、生日禮與專屬折扣。</p>

        <div class="banner-box">
            <h3>新人禮 50 元折扣券</h3>
            <p>加入即送新人折扣券，消費立即折抵。</p>
        </div>

        <div class="banner-box">
            <h3>每月專屬優惠通知</h3>
            <p>會員每月首週五，寄送當月限定折扣碼。</p>
        </div>

        <a href="register.html" class="banner-cta">立即加入會員</a>
    </div>
</section>

        <footer class="footer">
            <div class="footer-content">
                <h3>茶貓商店 Tea Cat Shop</h3>
                <p>連絡電話:0975-091-310</p>
                <p>Email:teacatshop@gmail.com </p>
                <p>營業時間:10:00-20:00</p>
                <p>地址:新北市林口區仁愛路二段508號</p>
                </div>

                <div class="footer-bottom">
                    @ 2025 Tea Cat Shop. All Rights Reserved.
                </div>
        </footer>

        <script>
            let slideIndex = 0;
            const slides = document.querySelectorAll(".slideshow .slide");

            function showSlides() {
            slides.forEach(slide => slide.classList.remove("active"));
            slideIndex = (slideIndex + 1) % slides.length;
            slides[slideIndex].classList.add("active");
        }
            setInterval(showSlides, 3000);
        </script>

        <div class="social-icons">
            <a href="https://www.facebook.com/cai.qi.hua.705092" target="_blank" class="icon fb">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="FB">
        </a>

        <a href="https://www.instagram.com/hua036/" target="_blank" class="icon ig">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="IG">
        </a>

        <a href="https://line.me/ti/p/BOuO--4dX1" target="_blank" class="icon line">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/line.svg" alt="LINE">
        </a>

        </div>

        <button id="backToTop" class="back-to-top">
            <img src="https://cdn-icons-png.flaticon.com/512/892/892692.png" alt="Top">
        </button>

        <script>
  // 找到所有「加入購物車」按鈕
  document.querySelectorAll(".add-cart").forEach(btn => {
    btn.addEventListener("click", function () {
      const card = this.closest(".product-card")

      const product = {
        name: card.dataset.name,
        price: Number(card.dataset.price),
        img: card.dataset.img,
        qty: 1
      }

      addToCart(product)
    })
  })

  function addToCart(product) {
    const cart = JSON.parse(localStorage.getItem("cart") || "[]")

    // 檢查是否已存在
    const exist = cart.find(item => item.name === product.name)

    if (exist) {
      exist.qty += 1
    } else {
      cart.push(product)
    }

    localStorage.setItem("cart", JSON.stringify(cart))

    alert("已加入購物車！")
  }
</script>


<script>  
  const backToTop = document.getElementById("backToTop");

window.addEventListener("scroll", () => {
    if (window.scrollY > 300) {
        backToTop.style.display = "flex";
    } else {
        backToTop.style.display = "none";
    }
});

backToTop.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
});
</script>

<script>
  const userToken = localStorage.getItem("userToken");
  const adminToken = localStorage.getItem("adminToken");

  const loginLink = document.getElementById("loginLink");
  const registerLink = document.getElementById("registerLink");
  const memberMenu = document.getElementById("memberMenu");
  const adminMenu = document.getElementById("adminMenu");
  const memberTrigger = document.getElementById("memberTrigger");

  // 全部先隱藏
  loginLink.classList.add("hidden");
  registerLink.classList.add("hidden");
  memberMenu.classList.add("hidden");
  adminMenu.classList.add("hidden");

  if (adminToken) {
    adminMenu.classList.remove("hidden");
  } else if (userToken) {
    memberMenu.classList.remove("hidden");
  } else {
    loginLink.classList.remove("hidden");
    registerLink.classList.remove("hidden");
  }

  // 會員下拉
  memberTrigger?.addEventListener("click", (e) => {
    e.stopPropagation();
    memberMenu.classList.toggle("open");
  });

  document.addEventListener("click", () => {
    memberMenu.classList.remove("open");
  });

  // 登出
  document.getElementById("logoutBtn")?.addEventListener("click", () => {
    localStorage.removeItem("userToken");
    location.href = "index.html";
  });

  document.getElementById("adminLogoutBtn")?.addEventListener("click", () => {
    localStorage.removeItem("adminToken");
    location.href = "index.html";
  });
</script>

</body>
</html>